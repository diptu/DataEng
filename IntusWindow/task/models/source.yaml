version: 2

sources:
  - name: dev # Replace with your actual schema name
    database: demo # Replace with your actual database name
    schema: dev # Replace with your actual schema name
    tables:
      - name: sales_transactions
        description: "Contains all sales transaction data."
        columns:
          - name: transaction_id
            description: "Unique identifier for each transaction."
            tests:
              - not_null
          - name: product_id
            description: "Foreign key referencing the product catalog."
            tests:
              - relationships:
                  to: "{{ source('dev', 'product_catalog') }}"
                  field: product_id
              - not_null
              
          - name: user_id
            description: "Identifier for the user who made the transaction."
            tests:
              - not_null
          - name: transaction_timestamp
            description: "Timestamp of the transaction."
            tests:
              - not_null
          - name: revenue
            description: "Revenue generated by the transaction."
            tests:
              - not_null
          - name: cost
            description: "Cost associated with the transaction."
            tests:
              - not_null
      - name: marketing_events
        description: "Records data from various marketing initiatives."
        columns:
          - name: event_id
            description: "Unique identifier for each marketing event."
            tests:
              - not_null
          - name: user_id
            description: "Identifier for the user associated with the event."
            tests:
              - not_null
          - name: event_type
            description: "Type of marketing event (e.g., email, ad)."
            tests:
              - not_null
          - name: event_timestamp
            description: "Timestamp of the marketing event."
            tests:
              - not_null
          - name: channel
            description: "Marketing channel (e.g., social, web)."
            tests:
              - not_null
          - name: campaign
            description: "Name of the marketing campaign."
            tests:
              - not_null
          - name: cost
            description: "Cost of the marketing event."
            tests:
              - not_null
      - name: product_catalog
        description: "Contains details of products."
        columns:
          - name: product_id
            description: "Unique identifier for each product."
            tests:
              - not_null
              - unique
          - name: product_name
            description: "Name of the product."
            tests:
              - not_null
          - name: category
            description: "Category of the product."
            tests:
              - not_null
              

      - name: daily_sales_negetive_revenue
        description: "Daily sales with negetive revenue"
